<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Сленговый Словарь для Взрослых</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4361ee;
            --primary-light: #4895ef;
            --secondary-color: #f8f9fa;
            --accent-color: #f72585;
            --dark-accent: #b5179e;
            --text-color: #2b2d42;
            --light-gray: #e9ecef;
            --medium-gray: #ced4da;
            --dark-gray: #6c757d;
            --success-color: #4cc9f0;
            --warning-color: #f8961e;
            --font-main: 'Roboto', sans-serif;
            --font-heading: 'Montserrat', sans-serif;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1), 0 1px 3px rgba(0,0,0,0.08);
            --shadow-lg: 0 10px 20px rgba(0,0,0,0.1), 0 6px 6px rgba(0,0,0,0.1);
            --border-radius: 12px;
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: var(--font-main);
            color: var(--text-color);
            background-color: var(--secondary-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: white;
            padding: 20px 0;
            text-align: center;
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
            z-index: 1;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
            z-index: 2;
        }
        
        .logo {
            font-family: var(--font-heading);
            font-size: 28px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo-icon {
            font-size: 32px;
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .xp-display {
            background-color: rgba(255,255,255,0.2);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
            backdrop-filter: blur(5px);
        }
        
        .xp-icon {
            color: var(--accent-color);
        }
        
        .settings-btn {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 20px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border-radius: 50%;
        }
        
        .settings-btn:hover {
            background-color: rgba(255,255,255,0.2);
            transform: rotate(30deg);
        }
        
        .main-nav {
            display: flex;
            justify-content: center;
            background-color: white;
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav-button {
            padding: 18px 30px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            font-family: var(--font-heading);
            color: var(--dark-gray);
            transition: var(--transition);
            position: relative;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .nav-button:hover {
            color: var(--primary-color);
        }
        
        .nav-button.active {
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .nav-button.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 3px;
            background-color: var(--accent-color);
            border-radius: 3px;
        }
        
        .nav-icon {
            font-size: 18px;
        }
        
        .page {
            display: none;
            padding: 30px 0;
            animation: fadeIn 0.5s;
        }
        
        .page.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .page-title {
            margin-bottom: 25px;
            color: var(--primary-color);
            font-size: 32px;
            font-family: var(--font-heading);
            font-weight: 700;
            position: relative;
            display: inline-block;
        }
        
        .page-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 60px;
            height: 4px;
            background-color: var(--accent-color);
            border-radius: 2px;
        }
        
        .dictionary-search {
            margin-bottom: 30px;
            display: flex;
            gap: 15px;
            max-width: 800px;
        }
        
        .search-input {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid var(--medium-gray);
            border-radius: var(--border-radius);
            font-size: 16px;
            font-family: var(--font-main);
            transition: var(--transition);
            box-shadow: var(--shadow-sm);
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }
        
        .search-button {
            padding: 0 25px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: var(--transition);
            box-shadow: var(--shadow-sm);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .search-button:hover {
            background-color: var(--primary-light);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .dictionary-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
        }
        
        .word-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .word-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }
        
        .word-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background-color: var(--primary-color);
        }
        
        .word-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--primary-color);
            font-family: var(--font-heading);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .word-learned {
            color: var(--success-color);
            font-size: 18px;
        }
        
        .word-meaning {
            margin-bottom: 15px;
            line-height: 1.7;
        }
        
        .word-origin {
            font-style: italic;
            color: var(--dark-gray);
            margin-bottom: 15px;
            font-size: 14px;
            padding-left: 15px;
            border-left: 2px solid var(--medium-gray);
        }
        
        .word-example {
            background-color: var(--light-gray);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 15px;
            position: relative;
        }
        
        .word-example::before {
            content: 'Пример:';
            position: absolute;
            top: -10px;
            left: 15px;
            background-color: var(--light-gray);
            padding: 0 10px;
            font-size: 12px;
            font-weight: 500;
            color: var(--dark-gray);
        }
        
        .user-association {
            background-color: #e6f7ff;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 3px solid var(--accent-color);
            position: relative;
            animation: slideIn 0.3s ease-out;
        }
        
        .user-association::before {
            content: 'Ваша ассоциация:';
            position: absolute;
            top: -10px;
            left: 15px;
            background-color: #e6f7ff;
            padding: 0 10px;
            font-size: 12px;
            font-weight: 500;
            color: var(--accent-color);
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .training-container {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow-sm);
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }
        
        .training-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
        }
        
        .question {
            font-size: 22px;
            margin-bottom: 25px;
            font-weight: 600;
            color: var(--text-color);
            line-height: 1.5;
        }
        
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .option {
            display: flex;
            align-items: center;
            padding: 18px 20px;
            background-color: var(--light-gray);
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }
        
        .option:hover {
            background-color: #e2e5ff;
            border-color: var(--primary-light);
        }
        
        .option input {
            margin-right: 15px;
            transform: scale(1.2);
            accent-color: var(--primary-color);
        }
        
        .option label {
            cursor: pointer;
            flex: 1;
        }
        
        .submit-btn {
            padding: 15px 30px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 0 auto;
            box-shadow: var(--shadow-sm);
        }
        
        .submit-btn:hover {
            background-color: var(--primary-light);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .result-message {
            margin-top: 25px;
            padding: 20px;
            border-radius: var(--border-radius);
            display: none;
            animation: fadeIn 0.5s;
            font-weight: 500;
        }
        
        .correct {
            background-color: #e6ffed;
            color: #1a7f37;
            border-left: 4px solid #2ecc71;
        }
        
        .incorrect {
            background-color: #fff0f0;
            color: #d32f2f;
            border-left: 4px solid #e74c3c;
        }
        
        .next-btn {
            margin-top: 20px;
            padding: 15px 30px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: var(--transition);
            display: none;
            margin: 25px auto 0;
            box-shadow: var(--shadow-sm);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .next-btn:hover {
            background-color: var(--dark-accent);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .progress-container {
            margin-top: 40px;
            text-align: center;
        }
        
        .progress-text {
            margin-bottom: 10px;
            font-weight: 500;
            color: var(--dark-gray);
        }
        
        .progress-bar {
            height: 12px;
            background-color: var(--light-gray);
            border-radius: 6px;
            margin-bottom: 10px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-color), var(--primary-color));
            width: 0%;
            transition: width 0.5s ease-out;
            border-radius: 6px;
        }
        
        .progress-percent {
            font-weight: 700;
            color: var(--primary-color);
        }
        
        .associations-container {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow-sm);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .associations-header {
            margin-bottom: 25px;
        }
        
        .associations-title {
            font-size: 24px;
            color: var(--primary-color);
            margin-bottom: 15px;
            font-family: var(--font-heading);
        }
        
        .associations-description {
            color: var(--dark-gray);
            line-height: 1.7;
        }
        
        .association-examples {
            margin: 30px 0;
        }
        
        .examples-title {
            font-size: 20px;
            color: var(--primary-color);
            margin-bottom: 15px;
            font-family: var(--font-heading);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .example-card {
            background-color: var(--light-gray);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            transition: var(--transition);
        }
        
        .example-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-sm);
        }
        
        .example-word {
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .example-association {
            font-style: italic;
            color: var(--text-color);
            line-height: 1.6;
        }
        
        .create-association {
            margin-top: 40px;
        }
        
        .create-title {
            font-size: 20px;
            color: var(--primary-color);
            margin-bottom: 15px;
            font-family: var(--font-heading);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-color);
        }
        
        .word-select {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--medium-gray);
            border-radius: var(--border-radius);
            font-size: 16px;
            font-family: var(--font-main);
            transition: var(--transition);
            background-color: white;
        }
        
        .word-select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }
        
        .association-input {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--medium-gray);
            border-radius: var(--border-radius);
            font-size: 16px;
            font-family: var(--font-main);
            transition: var(--transition);
            min-height: 120px;
            resize: vertical;
        }
        
        .association-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }
        
        .save-association {
            padding: 15px 30px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: var(--shadow-sm);
        }
        
        .save-association:hover {
            background-color: var(--dark-accent);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .progress-page {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .stats-container {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow-sm);
            margin-bottom: 30px;
        }
        
        .stats-title {
            font-size: 24px;
            color: var(--primary-color);
            margin-bottom: 25px;
            font-family: var(--font-heading);
            position: relative;
        }
        
        .stats-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 60px;
            height: 4px;
            background-color: var(--accent-color);
            border-radius: 2px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background-color: var(--light-gray);
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            transition: var(--transition);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-sm);
        }
        
        .stat-value {
            font-size: 36px;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
            font-family: var(--font-heading);
        }
        
        .stat-label {
            color: var(--dark-gray);
            font-size: 16px;
        }
        
        .achievements-section {
            margin-top: 30px;
        }
        
        .achievements-title {
            font-size: 20px;
            color: var(--primary-color);
            margin-bottom: 20px;
            font-family: var(--font-heading);
        }
        
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
        }
        
        .achievement-card {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            border-left: 4px solid var(--medium-gray);
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }
        
        .achievement-card.earned {
            border-left-color: var(--success-color);
            background-color: #f0fff4;
        }
        
        .achievement-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }
        
        .achievement-icon {
            font-size: 24px;
            color: var(--medium-gray);
            flex-shrink: 0;
        }
        
        .achievement-card.earned .achievement-icon {
            color: var(--success-color);
        }
        
        .achievement-content {
            flex: 1;
        }
        
        .achievement-name {
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: 5px;
        }
        
        .achievement-description {
            color: var(--dark-gray);
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .achievement-status {
            font-size: 12px;
            font-weight: 500;
            color: var(--dark-gray);
        }
        
        .achievement-card.earned .achievement-status {
            color: var(--success-color);
        }
        
        .words-to-review {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow-sm);
        }
        
        .review-title {
            font-size: 24px;
            color: var(--primary-color);
            margin-bottom: 25px;
            font-family: var(--font-heading);
            position: relative;
        }
        
        .review-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 60px;
            height: 4px;
            background-color: var(--accent-color);
            border-radius: 2px;
        }
        
        .review-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .review-word {
            background-color: var(--light-gray);
            padding: 20px;
            border-radius: 10px;
            transition: var(--transition);
        }
        
        .review-word:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-sm);
        }
        
        .review-word-title {
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .review-word-meaning {
            margin-bottom: 10px;
            line-height: 1.6;
        }
        
        .review-word-association {
            font-style: italic;
            color: var(--dark-gray);
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed var(--medium-gray);
        }
        
        .settings-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s;
        }
        
        .settings-content {
            background-color: white;
            padding: 30px;
            border-radius: var(--border-radius);
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            position: relative;
        }
        
        .settings-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--dark-gray);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .settings-close:hover {
            color: var(--accent-color);
            transform: rotate(90deg);
        }
        
        .settings-title {
            font-size: 24px;
            color: var(--primary-color);
            margin-bottom: 25px;
            font-family: var(--font-heading);
        }
        
        .setting-group {
            margin-bottom: 25px;
        }
        
        .setting-title {
            font-size: 18px;
            margin-bottom: 15px;
            color: var(--primary-color);
            font-family: var(--font-heading);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .setting-option {
            margin-bottom: 12px;
            display: flex;
            align-items: center;
        }
        
        .setting-option input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: var(--primary-color);
            margin-right: 10px;
        }
        
        .setting-option input[type="radio"] {
            width: 18px;
            height: 18px;
            accent-color: var(--primary-color);
            margin-right: 10px;
        }
        
        .setting-option label {
            cursor: pointer;
        }
        
        .settings-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        .save-settings {
            padding: 15px 30px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: var(--transition);
            flex: 1;
        }
        
        .save-settings:hover {
            background-color: var(--primary-light);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .close-settings {
            padding: 15px 30px;
            background-color: var(--light-gray);
            color: var(--text-color);
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: var(--transition);
            flex: 1;
        }
        
        .close-settings:hover {
            background-color: var(--medium-gray);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .xp-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--accent-color);
            color: white;
            padding: 15px 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            animation: slideIn 0.5s, fadeOut 0.5s 2.5s forwards;
            z-index: 1000;
            display: none;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .elderly-mode {
            --font-main: 'Arial', sans-serif;
            font-size: 18px;
        }
        
        .elderly-mode .nav-button {
            padding: 20px 35px;
            font-size: 20px;
        }
        
        .elderly-mode .word-card {
            padding: 30px;
        }
        
        .elderly-mode .word-title {
            font-size: 26px;
        }
        
        .elderly-mode .option {
            padding: 25px;
        }
        
        .elderly-mode button {
            padding: 20px 40px;
            font-size: 20px;
        }
        
        .elderly-mode .search-input,
        .elderly-mode .word-select,
        .elderly-mode .association-input {
            padding: 20px;
            font-size: 18px;
        }
        
        @media (max-width: 768px) {
            .dictionary-list {
                grid-template-columns: 1fr;
            }
            
            .header-content {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .main-nav {
                flex-wrap: wrap;
            }
            
            .nav-button {
                padding: 15px;
                font-size: 14px;
                flex: 1 0 auto;
                justify-content: center;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .achievements-grid {
                grid-template-columns: 1fr;
            }
            
            .review-list {
                grid-template-columns: 1fr;
            }
            
            .settings-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <span class="logo-icon">📚</span>
                <span>Сленговый Словарь</span>
            </div>
            <div class="user-profile">
                <div class="xp-display">
                    <span class="xp-icon">⭐</span>
                    <span id="user-xp">0</span> XP
                </div>
                <button class="settings-btn" id="settings-btn">⚙️</button>
            </div>
        </div>
    </header>
    
    <nav class="main-nav">
        <button class="nav-button active" data-page="dictionary">
            <span class="nav-icon">📖</span>
            <span>Словарь</span>
        </button>
        <button class="nav-button" data-page="training">
            <span class="nav-icon">💪</span>
            <span>Тренажёр</span>
        </button>
        <button class="nav-button" data-page="associations">
            <span class="nav-icon">🧠</span>
            <span>Ассоциации</span>
        </button>
        <button class="nav-button" data-page="progress">
            <span class="nav-icon">📊</span>
            <span>Прогресс</span>
        </button>
    </nav>
    
    <div class="container">
        <div class="page active" id="dictionary-page">
            <h1 class="page-title">Словарь молодёжного сленга</h1>
            
            <div class="dictionary-search">
                <input type="text" class="search-input" placeholder="Найти слово...">
                <button class="search-button">
                    <span class="nav-icon">🔍</span>
                    <span>Поиск</span>
                </button>
            </div>
            
            <div class="dictionary-list" id="word-list"></div>
        </div>
        
        <div class="page" id="training-page">
            <h1 class="page-title">Тренажёр</h1>
            
            <div class="training-container">
                <div class="question" id="training-question">Загрузка вопроса...</div>
                
                <div class="options-container" id="training-options"></div>
                
                <button class="submit-btn" id="submit-answer">
                    <span class="nav-icon">✅</span>
                    <span>Проверить</span>
                </button>
                
                <div class="result-message" id="result-message"></div>
                
                <button class="next-btn" id="next-question">
                    <span class="nav-icon">➡️</span>
                    <span>Следующий вопрос</span>
                </button>
                
                <div class="progress-container">
                    <div class="progress-text">Ваш прогресс: <span class="progress-percent" id="progress-text">0</span>%</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="page" id="associations-page">
            <h1 class="page-title">Ассоциации</h1>
            
            <div class="associations-container">
                <div class="associations-header">
                    <h2 class="associations-title">Как работают ассоциации?</h2>
                    <p class="associations-description">Ассоциации помогают запоминать новые слова, связывая их с уже знакомыми понятиями и образами. Создавайте свои ассоциации для лучшего запоминания - они будут отображаться в словаре под определением слова!</p>
                </div>
                
                <div class="association-examples">
                    <h3 class="examples-title">
                        <span class="nav-icon">💡</span>
                        <span>Примеры ассоциаций</span>
                    </h3>
                    <div id="association-examples"></div>
                </div>
                
                <div class="create-association">
                    <h3 class="create-title">
                        <span class="nav-icon">✨</span>
                        <span>Создайте свою ассоциацию</span>
                    </h3>
                    <div class="form-group">
                        <label for="word-select" class="form-label">Выберите слово:</label>
                        <select id="word-select" class="word-select">
                            <option value="">-- Выберите слово --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="association-input" class="form-label">Ваша ассоциация:</label>
                        <textarea id="association-input" class="association-input" placeholder="Опишите свою ассоциацию для этого слова..."></textarea>
                    </div>
                    <button id="save-association" class="save-association">
                        <span class="nav-icon">💾</span>
                        <span>Сохранить ассоциацию</span>
                    </button>
                </div>
            </div>
        </div>
        
        <div class="page progress-page" id="progress-page">
            <h1 class="page-title">Ваш прогресс</h1>
            
            <div class="stats-container">
                <h2 class="stats-title">Общая статистика</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="words-learned">0</div>
                        <div class="stat-label">слов изучено</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="correct-answers">0</div>
                        <div class="stat-label">правильных ответов</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="current-streak">0</div>
                        <div class="stat-label">дней подряд</div>
                    </div>
                </div>
                
                <div class="achievements-section">
                    <h3 class="achievements-title">Достижения</h3>
                    <div class="achievements-grid" id="achievements-list"></div>
                </div>
            </div>
            
            <div class="words-to-review">
                <h2 class="review-title">Слова для повторения</h2>
                <div class="review-list" id="words-to-review"></div>
            </div>
        </div>
    </div>
    
    <div id="settings-modal" class="settings-modal">
        <div class="settings-content">
            <button class="settings-close" id="close-settings">×</button>
            <h2 class="settings-title">Настройки</h2>
            
            <div class="setting-group">
                <h3 class="setting-title">
                    <span class="nav-icon">👵</span>
                    <span>Режим отображения</span>
                </h3>
                <div class="setting-option">
                    <input type="checkbox" id="elderly-mode">
                    <label for="elderly-mode">Режим "Для бабушки" (увеличенный текст)</label>
                </div>
            </div>
            
            <div class="setting-group">
                <h3 class="setting-title">
                    <span class="nav-icon">🔔</span>
                    <span>Уведомления</span>
                </h3>
                <div class="setting-option">
                    <input type="checkbox" id="daily-reminder" checked>
                    <label for="daily-reminder">Ежедневные напоминания</label>
                </div>
            </div>
            
            <div class="setting-group">
                <h3 class="setting-title">
                    <span class="nav-icon">🎯</span>
                    <span>Цель обучения</span>
                </h3>
                <div class="setting-option">
                    <input type="radio" id="goal-easy" name="learning-goal" value="5" checked>
                    <label for="goal-easy">5 слов в день (лёгкий)</label>
                </div>
                <div class="setting-option">
                    <input type="radio" id="goal-medium" name="learning-goal" value="10">
                    <label for="goal-medium">10 слов в день (средний)</label>
                </div>
                <div class="setting-option">
                    <input type="radio" id="goal-hard" name="learning-goal" value="20">
                    <label for="goal-hard">20 слов в день (интенсив)</label>
                </div>
            </div>
            
            <div class="settings-buttons">
                <button class="save-settings" id="save-settings">Сохранить</button>
                <button class="close-settings" id="close-settings-btn">Закрыть</button>
            </div>
        </div>
    </div>
    
    <div class="xp-notification" id="xp-notification">
        <span class="nav-icon">⭐</span>
        <span id="xp-message">+10 XP получено!</span>
    </div>
    
    <script>
        const slangWords = [
            {
                word: "Краш",
                meaning: "человек, который тебе очень нравится, симпатичен, влюблённость",
                origin: "От английского 'crush' — раздавливать, давить. В переносном смысле — объект сильного увлечения.",
                example: "Аня — мой краш с пятого класса",
                association: "Как будто сердце сжимается, когда видишь этого человека"
            },
            {
                word: "Зашквар",
                meaning: "ситуация, при которой человек чувствует себя крайне неловко",
                origin: "От уголовного жаргона, где означало 'опозориться'",
                example: "Он пришёл на встречу в пижаме — это полный зашквар!",
                association: "Как если бы вы случайно перепутали обувь и пришли в ресторан в тапочках"
            },
            {
                word: "Хайп",
                meaning: "шум, ажиотаж вокруг чего-либо, популярность",
                origin: "От английского 'hype' — навязчивая реклама, шумиха",
                example: "Вокруг нового айфона всегда много хайпа",
                association: "Как толпа фанатов на концерте любимой группы"
            },
            {
                word: "Кринж",
                meaning: "чувство неловкости за кого-то, стыд",
                origin: "От английского 'cringe' — съёживаться от стыда или отвращения",
                example: "Его шутки такие плохие, что просто кринж",
                association: "Как будто смотришь свои детские фотографии с дурацкой причёской"
            },
            {
                word: "Рофл",
                meaning: "сильный смех, что-то очень смешное",
                origin: "От английского 'ROFL' — rolling on the floor laughing (катаюсь по полу от смеха)",
                example: "Этот мем такой смешной, я просто рофл!",
                association: "Как если бы вы увидели, как кот пытается поймать свой хвост"
            },
            {
                word: "Флексить",
                meaning: "расслабляться, веселиться, танцевать",
                origin: "От английского 'flex' — сгибаться, в переносном смысле — расслабляться",
                example: "На вечеринке все флексили под музыку",
                association: "Как будто вы на пляже под звуки моря"
            },
            {
                word: "Чилить",
                meaning: "отдыхать, ничего не делать",
                origin: "От английского 'chill' — холод, прохлада, расслабление",
                example: "После экзаменов будем чилить весь день",
                association: "Как гамак между двумя деревьями в тени"
            },
            {
                word: "Хейтер",
                meaning: "человек, который негативно относится к кому-то или чему-то",
                origin: "От английского 'hater' — ненавистник",
                example: "Не обращай внимания на хейтеров, они просто завидуют",
                association: "Как стая ворон, которая каркает на всё подряд"
            },
            {
                word: "Буллинг",
                meaning: "травля, агрессивное преследование одного из членов коллектива",
                origin: "От английского 'bullying' - запугивание, издевательство",
                example: "В нашей школе строго следят, чтобы не было буллинга",
                association: "Как стая хищников, нападающих на одного"
            },
            {
                word: "Го",
                meaning: "предложение куда-то пойти или что-то сделать (сокращение от 'пойдём')",
                origin: "Сокращение от русского слова 'пойдём'",
                example: "Го в кино сегодня вечером!",
                association: "Как дружеский толчок в плечо с приглашением"
            },
            {
                word: "Движ",
                meaning: "1) активность, движение; 2) тусовка, компания",
                origin: "От слова 'движение'",
                example: "В нашем дворе всегда есть движ по вечерам",
                association: "Как поток людей на оживлённой улице"
            },
            {
                word: "Жиза",
                meaning: "ситуация, с которой многие сталкивались в жизни",
                origin: "От слова 'жизнь'",
                example: "Проснулся, а телефон не зарядился — жиза!",
                association: "Как страница из дневника обычного человека"
            },
            {
                word: "Изи",
                meaning: "легко, без проблем (от английского 'easy')",
                origin: "От английского 'easy' - лёгкий",
                example: "Этот тест был полный изи",
                association: "Как прогулка в солнечный день"
            },
            {
                word: "Камон",
                meaning: "выражение разочарования или недоверия (от английского 'come on')",
                origin: "От английского 'come on' - да ладно",
                example: "Камон, ты серьёзно это сделал?",
                association: "Как разочарованное покачивание головой"
            },
            {
                word: "Кек",
                meaning: "выражение насмешки (аналог 'лол')",
                origin: "От английского 'kek' - интернет-сленг",
                example: "Ты сам себя сфоткал и не заметил? Кек!",
                association: "Как хихиканье за спиной"
            },
            {
                word: "Лмао",
                meaning: "очень смешно (от английского 'laughing my ass off')",
                origin: "Английский интернет-сленг",
                example: "Этот мем просто лмао!",
                association: "Как падающий со стула от смеха человек"
            },
            {
                word: "Мерч",
                meaning: "фирменная одежда и аксессуары (от английского 'merchandise')",
                origin: "От английского 'merchandise' - товары",
                example: "Купил новый мерч своей любимой группы",
                association: "Как футболка с крутым принтом"
            },
            {
                word: "Нуб",
                meaning: "новичок, неопытный человек (от английского 'noob')",
                origin: "От английского 'newbie' - новичок",
                example: "Он такой нуб, даже не знает правил игры",
                association: "Как малыш на велосипеде с боковыми колёсами"
            },
            {
                word: "Овердофига",
                meaning: "очень много",
                origin: "Слияние слов 'очень' и 'дофига'",
                example: "Домашки задали овердофига!",
                association: "Как гора из учебников"
            },
            {
                word: "Падра",
                meaning: "подруга (сокращение)",
                origin: "Сокращение от слова 'подруга'",
                example: "Го с моей падрой в кино",
                association: "Как две девочки, шепчущиеся на задней парте"
            },
            {
                word: "Пруф",
                meaning: "доказательство (от английского 'proof')",
                origin: "От английского 'proof' - доказательство",
                example: "Где пруфы, что это правда?",
                association: "Как официальная печать на документе"
            },
            {
                word: "Рипнуться",
                meaning: "умереть в игре (от английского 'RIP')",
                origin: "От английского 'Rest in Peace' - покойся с миром",
                example: "Я рипнулся на последнем боссе",
                association: "Как надгробная плита с ником игрока"
            },
            {
                word: "Скилл",
                meaning: "умение, навык (от английского 'skill')",
                origin: "От английского 'skill' - навык",
                example: "У него реальный скилл в рисовании",
                association: "Как медаль за мастерство"
            },
            {
                word: "Стремный",
                meaning: "неприятный, подозрительный",
                origin: "От слова 'странный' с изменением значения",
                example: "Этот чел какой-то стремный",
                association: "Как тёмный переулок ночью"
            },
            {
                word: "Топчик",
                meaning: "что-то очень хорошее",
                origin: "От слова 'топ' (лучший) с уменьшительно-ласкательным суффиксом",
                example: "Этот сериал — просто топчик!",
                association: "Как золотая медаль на пьедестале"
            },
            {
                word: "Шеймить",
                meaning: "стыдить кого-то (от английского 'shame')",
                origin: "От английского 'shame' - стыд",
                example: "Перестаньте шеймить людей за их внешность",
                association: "Как указывающий осуждающий палец"
            },
            {
                word: "Эщкере",
                meaning: "восклицание, выражающее радость или возбуждение",
                origin: "Искажённое английское 'let's get it'",
                example: "Эщкере! Мы выиграли турнир!",
                association: "Как взрыв конфетти"
            },
            {
                word: "Бумер",
                meaning: "представитель старшего поколения, консервативных взглядов",
                origin: "От английского 'baby boomer' - поколение послевоенного бума рождаемости",
                example: "Опять эти бумеры не понимают мемов",
                association: "Как человек, кричащий 'В наше время...'"
            },
            {
                word: "Вайб",
                meaning: "атмосфера, настроение (от английского 'vibe')",
                origin: "От английского 'vibe' - вибрации, атмосфера",
                example: "У этого места такой приятный вайб",
                association: "Как цветной туман, окутывающий место"
            },
            {
                word: "Гг",
                meaning: "1) 'good game' - хорошая игра; 2) конец чему-то",
                origin: "От английского 'good game' - хорошая игра",
                example: "Мы проиграли, но всё равно гг",
                association: "Как рукопожатие после матча"
            },
            {
                word: "Лойс",
                meaning: "лайк, одобрение (искажённое 'like')",
                origin: "Искажённое английское 'like'",
                example: "Ставлю лойс за этот пост",
                association: "Как палец вверх"
            },
            {
                word: "ОП",
                meaning: "1) оригинальный пост; 2) автор поста (от 'original poster')",
                origin: "От английского 'original poster'",
                example: "ОП, ты забыл источник",
                association: "Как человек за компьютером"
            },
            {
                word: "Пруфлинк",
                meaning: "ссылка на источник информации",
                origin: "От английского 'proof' + 'link'",
                example: "Кинь пруфлинк, иначе не поверю",
                association: "Как цепочка из ссылок"
            },
            {
                word: "Фейспалм",
                meaning: "жест, когда лицо закрывают ладонью от стыда или разочарования",
                origin: "От английского 'facepalm' - лицо + ладонь",
                example: "После его ответа весь класс сделал фейспалм",
                association: "Как человек, закрывающий лицо рукой"
            }
        ];
        
        let appState = {
            currentPage: 'dictionary',
            userXP: 0,
            learnedWords: [],
            correctAnswers: 0,
            currentStreak: 0,
            lastLogin: null,
            settings: {
                elderlyMode: false,
                dailyReminder: true,
                dailyGoal: 5
            },
            userAssociations: {},
            achievements: [
                { id: 1, name: "Первые шаги", description: "Выучил 5 слов", earned: false, xp: 20 },
                { id: 2, name: "Любознательный", description: "Выучил 10 слов", earned: false, xp: 50 },
                { id: 3, name: "Знаток сленга", description: "Выучил 20 слов", earned: false, xp: 100 },
                { id: 4, name: "Неделя обучения", description: "Занимался 7 дней подряд", earned: false, xp: 70 },
                { id: 5, name: "Быстрый ум", description: "Ответил правильно на 10 вопросов подряд", earned: false, xp: 50 }
            ],
            training: {
                currentQuestion: null,
                questionsAnswered: 0,
                correctAnswers: 0,
                questionPool: []
            }
        };
        
        document.addEventListener('DOMContentLoaded', function() {
            loadAppData();
            checkLoginStreak();
            initDictionaryPage();
            initTrainingPage();
            initAssociationsPage();
            initProgressPage();
            initSettingsModal();
            setupNavigation();
            applySettings();
            showPage(appState.currentPage);
        });
        
        function loadAppData() {
            const savedData = localStorage.getItem('slangDictionaryApp');
            if (savedData) {
                const parsedData = JSON.parse(savedData);
                Object.assign(appState, parsedData);
                updateXPDisplay();
            }
        }
        
        function saveAppData() {
            localStorage.setItem('slangDictionaryApp', JSON.stringify(appState));
        }
        
        function checkLoginStreak() {
            const today = new Date().toDateString();
            if (appState.lastLogin !== today) {
                const yesterday = new Date();
                yesterday.setDate(yesterday.getDate() - 1);
                
                if (appState.lastLogin === yesterday.toDateString()) {
                    appState.currentStreak++;
                } else if (appState.lastLogin !== today) {
                    appState.currentStreak = 1;
                }
                
                appState.lastLogin = today;
                saveAppData();
            }
        }
        
        function initDictionaryPage() {
            const wordList = document.getElementById('word-list');
            wordList.innerHTML = '';
            
            slangWords.forEach(word => {
                const wordCard = document.createElement('div');
                wordCard.className = 'word-card';
                
                const isLearned = appState.learnedWords.includes(word.word) ? '<span class="word-learned">✓</span>' : '';
                const userAssociation = appState.userAssociations[word.word] ? 
                    `<div class="user-association">${appState.userAssociations[word.word]}</div>` : '';
                
                wordCard.innerHTML = `
                    <div class="word-title">${isLearned}${word.word}</div>
                    <div class="word-meaning"><strong>Значение:</strong> ${word.meaning}</div>
                    ${word.origin ? `<div class="word-origin"><strong>Происхождение:</strong> ${word.origin}</div>` : ''}
                    ${word.example ? `<div class="word-example">${word.example}</div>` : ''}
                    ${userAssociation}
                `;
                
                wordList.appendChild(wordCard);
            });
            
            document.querySelector('.search-button').addEventListener('click', searchWords);
            document.querySelector('.search-input').addEventListener('keyup', function(e) {
                if (e.key === 'Enter') searchWords();
            });
        }
        
        function searchWords() {
            const searchTerm = document.querySelector('.search-input').value.toLowerCase();
            const wordCards = document.querySelectorAll('.word-card');
            
            wordCards.forEach(card => {
                const wordText = card.textContent.toLowerCase();
                if (wordText.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }
        
        function initTrainingPage() {
            createQuestionPool();
            showNextQuestion();
            document.getElementById('submit-answer').addEventListener('click', checkAnswer);
            document.getElementById('next-question').addEventListener('click', showNextQuestion);
        }
        
        function createQuestionPool() {
            appState.training.questionPool = [];
            
            slangWords.forEach(word => {
                const wrongAnswers = slangWords
                    .filter(w => w.word !== word.word)
                    .sort(() => 0.5 - Math.random())
                    .slice(0, 3)
                    .map(w => w.meaning);
                
                appState.training.questionPool.push({
                    type: 'meaning',
                    word: word.word,
                    correctAnswer: word.meaning,
                    wrongAnswers: wrongAnswers,
                    example: word.example
                });
            });
            
            slangWords.forEach(word => {
                const example = word.example;
                if (example.includes(word.word)) {
                    const blankExample = example.replace(word.word, '______');
                    appState.training.questionPool.push({
                        type: 'fill',
                        word: word.word,
                        correctAnswer: word.word,
                        example: blankExample,
                        meaning: word.meaning
                    });
                }
            });
            
            appState.training.questionPool = appState.training.questionPool.sort(() => 0.5 - Math.random());
        }
        
        function showNextQuestion() {
            document.getElementById('result-message').style.display = 'none';
            document.getElementById('next-question').style.display = 'none';
            
            if (appState.training.questionPool.length === 0) {
                createQuestionPool();
            }
            
            const randomIndex = Math.floor(Math.random() * appState.training.questionPool.length);
            appState.training.currentQuestion = appState.training.questionPool[randomIndex];
            appState.training.questionPool.splice(randomIndex, 1);
            
            const questionEl = document.getElementById('training-question');
            const optionsEl = document.getElementById('training-options');
            optionsEl.innerHTML = '';
            
            if (appState.training.currentQuestion.type === 'meaning') {
                questionEl.textContent = `Что означает слово "${appState.training.currentQuestion.word}"?`;
                
                const allAnswers = [
                    appState.training.currentQuestion.correctAnswer,
                    ...appState.training.currentQuestion.wrongAnswers
                ].sort(() => 0.5 - Math.random());
                
                allAnswers.forEach((answer, index) => {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'option';
                    
                    const radio = document.createElement('input');
                    radio.type = 'radio';
                    radio.name = 'training-option';
                    radio.id = `option-${index}`;
                    radio.value = answer;
                    
                    const label = document.createElement('label');
                    label.htmlFor = `option-${index}`;
                    label.textContent = answer;
                    
                    optionDiv.appendChild(radio);
                    optionDiv.appendChild(label);
                    optionsEl.appendChild(optionDiv);
                });
            } else {
                questionEl.textContent = `Заполните пропуск в предложении: "${appState.training.currentQuestion.example}"`;
                
                const meaningEl = document.createElement('div');
                meaningEl.style.marginBottom = '15px';
                meaningEl.textContent = `Подсказка: ${appState.training.currentQuestion.meaning}`;
                optionsEl.appendChild(meaningEl);
                
                const inputEl = document.createElement('input');
                inputEl.type = 'text';
                inputEl.id = 'fill-answer';
                inputEl.style.width = '100%';
                inputEl.style.padding = '15px';
                inputEl.style.fontSize = '16px';
                inputEl.style.borderRadius = '8px';
                inputEl.style.border = '2px solid var(--medium-gray)';
                optionsEl.appendChild(inputEl);
            }
            
            updateTrainingProgress();
        }
        
        function checkAnswer() {
            const question = appState.training.currentQuestion;
            let isCorrect = false;
            let userAnswer = '';
            
            if (question.type === 'meaning') {
                const selectedOption = document.querySelector('input[name="training-option"]:checked');
                if (!selectedOption) {
                    alert('Пожалуйста, выберите ответ!');
                    return;
                }
                
                userAnswer = selectedOption.value;
                isCorrect = userAnswer === question.correctAnswer;
            } else {
                const inputAnswer = document.getElementById('fill-answer').value.trim();
                if (!inputAnswer) {
                    alert('Пожалуйста, введите ответ!');
                    return;
                }
                
                userAnswer = inputAnswer;
                isCorrect = inputAnswer.toLowerCase() === question.correctAnswer.toLowerCase();
            }
            
            appState.training.questionsAnswered++;
            if (isCorrect) {
                appState.training.correctAnswers++;
                appState.correctAnswers++;
                
                if (!appState.learnedWords.includes(question.word)) {
                    appState.learnedWords.push(question.word);
                    checkAchievements();
                }
                
                addXP(10);
            }
            
            const resultEl = document.getElementById('result-message');
            resultEl.style.display = 'block';
            
            if (isCorrect) {
                resultEl.className = 'result-message correct';
                resultEl.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <span style="font-size: 24px;">🎉</span>
                        <span style="font-weight: 600;">Правильно!</span>
                    </div>
                    ${question.example ? `<div style="margin-top: 10px;">Пример: <em>"${question.example}"</em></div>` : ''}
                `;
            } else {
                resultEl.className = 'result-message incorrect';
                resultEl.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <span style="font-size: 24px;">😕</span>
                        <span style="font-weight: 600;">Неправильно.</span>
                    </div>
                    <div style="margin-top: 10px;">Правильный ответ: <strong>${question.correctAnswer}</strong></div>
                    ${question.example ? `<div style="margin-top: 10px;">Пример: <em>"${question.example}"</em></div>` : ''}
                `;
            }
            
            document.getElementById('next-question').style.display = 'flex';
            saveAppData();
        }
        
        function updateTrainingProgress() {
            const totalQuestions = slangWords.length * 2;
            const answered = appState.training.questionsAnswered;
            const progress = Math.min(100, Math.round((answered / totalQuestions) * 100));
            
            document.getElementById('progress-fill').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = progress;
        }
        
        function initAssociationsPage() {
            const wordSelect = document.getElementById('word-select');
            wordSelect.innerHTML = '<option value="">-- Выберите слово --</option>';
            
            slangWords.forEach(word => {
                const option = document.createElement('option');
                option.value = word.word;
                option.textContent = word.word;
                wordSelect.appendChild(option);
            });
            
            showAssociationExamples();
            document.getElementById('save-association').addEventListener('click', saveUserAssociation);
            wordSelect.addEventListener('change', function() {
                const selectedWord = this.value;
                const associationInput = document.getElementById('association-input');
                
                if (selectedWord && appState.userAssociations[selectedWord]) {
                    associationInput.value = appState.userAssociations[selectedWord];
                } else {
                    associationInput.value = '';
                }
            });
        }
        
        function showAssociationExamples() {
            const examplesContainer = document.getElementById('association-examples');
            examplesContainer.innerHTML = '';
            
            const shuffledWords = [...slangWords].sort(() => 0.5 - Math.random()).slice(0, 3);
            
            shuffledWords.forEach(word => {
                const exampleDiv = document.createElement('div');
                exampleDiv.className = 'example-card';
                
                exampleDiv.innerHTML = `
                    <div class="example-word">
                        <span>🔹</span>
                        <span>${word.word}</span>
                    </div>
                    <div class="example-association">${word.association}</div>
                `;
                
                examplesContainer.appendChild(exampleDiv);
            });
        }
        
        function saveUserAssociation() {
            const wordSelect = document.getElementById('word-select');
            const associationInput = document.getElementById('association-input');
            
            const word = wordSelect.value;
            const association = associationInput.value.trim();
            
            if (!word) {
                showAlert('Пожалуйста, выберите слово!', 'warning');
                return;
            }
            
            if (!association) {
                showAlert('Пожалуйста, введите ассоциацию!', 'warning');
                return;
            }
            
            appState.userAssociations[word] = association;
            saveAppData();
            addXP(5);
            showAlert('Ваша ассоциация сохранена! Она теперь отображается в словаре под определением слова.', 'success');
            initDictionaryPage();
        }
        
        function showAlert(message, type) {
            const alertDiv = document.createElement('div');
            alertDiv.style.position = 'fixed';
            alertDiv.style.top = '20px';
            alertDiv.style.left = '50%';
            alertDiv.style.transform = 'translateX(-50%)';
            alertDiv.style.padding = '15px 25px';
            alertDiv.style.borderRadius = 'var(--border-radius)';
            alertDiv.style.boxShadow = 'var(--shadow-lg)';
            alertDiv.style.zIndex = '1000';
            alertDiv.style.display = 'flex';
            alertDiv.style.alignItems = 'center';
            alertDiv.style.gap = '10px';
            alertDiv.style.animation = 'fadeIn 0.3s, fadeOut 0.3s 3s forwards';
            
            if (type === 'success') {
                alertDiv.style.backgroundColor = '#d4edda';
                alertDiv.style.color = '#155724';
                alertDiv.style.borderLeft = '4px solid #2ecc71';
                alertDiv.innerHTML = `<span style="font-size: 20px;">✅</span> <span>${message}</span>`;
            } else {
                alertDiv.style.backgroundColor = '#fff3cd';
                alertDiv.style.color = '#856404';
                alertDiv.style.borderLeft = '4px solid #ffc107';
                alertDiv.innerHTML = `<span style="font-size: 20px;">⚠️</span> <span>${message}</span>`;
            }
            
            document.body.appendChild(alertDiv);
            
            setTimeout(() => {
                alertDiv.remove();
            }, 3000);
        }
        
        function initProgressPage() {
            updateProgressStats();
            showAchievements();
            showWordsToReview();
        }
        
        function updateProgressStats() {
            document.getElementById('words-learned').textContent = appState.learnedWords.length;
            document.getElementById('correct-answers').textContent = appState.correctAnswers;
            document.getElementById('current-streak').textContent = appState.currentStreak;
        }
        
        function showAchievements() {
            const achievementsList = document.getElementById('achievements-list');
            achievementsList.innerHTML = '';
            
            appState.achievements.forEach(achievement => {
                const achievementDiv = document.createElement('div');
                achievementDiv.className = `achievement-card ${achievement.earned ? 'earned' : ''}`;
                
                achievementDiv.innerHTML = `
                    <div class="achievement-icon">${achievement.earned ? '🏆' : '🔒'}</div>
                    <div class="achievement-content">
                        <div class="achievement-name">${achievement.name}</div>
                        <div class="achievement-description">${achievement.description}</div>
                        <div class="achievement-status">${achievement.earned ? '✓ Получено' : 'Не получено'}</div>
                    </div>
                `;
                
                achievementsList.appendChild(achievementDiv);
            });
        }
        
        function showWordsToReview() {
            const wordsToReview = document.getElementById('words-to-review');
            wordsToReview.innerHTML = '';
            
            if (appState.learnedWords.length === 0) {
                wordsToReview.innerHTML = '<p style="text-align: center; color: var(--dark-gray);">Вы ещё не изучили ни одного слова. Попробуйте тренажёр!</p>';
                return;
            }
            
            const shuffledWords = [...appState.learnedWords].sort(() => 0.5 - Math.random()).slice(0, 5);
            
            shuffledWords.forEach(word => {
                const wordData = slangWords.find(w => w.word === word);
                if (wordData) {
                    const wordDiv = document.createElement('div');
                    wordDiv.className = 'review-word';
                    
                    const userAssociation = appState.userAssociations[word] ? 
                        `<div class="review-word-association"><strong>Ваша ассоциация:</strong> ${appState.userAssociations[word]}</div>` : '';
                    
                    wordDiv.innerHTML = `
                        <div class="review-word-title">${wordData.word}</div>
                        <div class="review-word-meaning"><strong>Значение:</strong> ${wordData.meaning}</div>
                        ${userAssociation}
                    `;
                    
                    wordsToReview.appendChild(wordDiv);
                }
            });
        }
        
        function initSettingsModal() {
            document.getElementById('settings-btn').addEventListener('click', openSettingsModal);
            document.getElementById('save-settings').addEventListener('click', saveSettings);
            document.getElementById('close-settings').addEventListener('click', closeSettingsModal);
            document.getElementById('close-settings-btn').addEventListener('click', closeSettingsModal);
            document.getElementById('elderly-mode').checked = appState.settings.elderlyMode;
            document.getElementById('daily-reminder').checked = appState.settings.dailyReminder;
            document.querySelector(`input[name="learning-goal"][value="${appState.settings.dailyGoal}"]`).checked = true;
        }
        
        function openSettingsModal() {
            document.getElementById('settings-modal').style.display = 'flex';
        }
        
        function closeSettingsModal() {
            document.getElementById('settings-modal').style.display = 'none';
        }
        
        function saveSettings() {
            appState.settings.elderlyMode = document.getElementById('elderly-mode').checked;
            appState.settings.dailyReminder = document.getElementById('daily-reminder').checked;
            appState.settings.dailyGoal = parseInt(document.querySelector('input[name="learning-goal"]:checked').value);
            applySettings();
            saveAppData();
            closeSettingsModal();
            showAlert('Настройки сохранены!', 'success');
        }
        
        function applySettings() {
            if (appState.settings.elderlyMode) {
                document.body.classList.add('elderly-mode');
            } else {
                document.body.classList.remove('elderly-mode');
            }
            
            if (appState.settings.dailyReminder) {
                console.log('Ежедневные напоминания включены');
            } else {
                console.log('Ежедневные напоминания выключены');
            }
        }
        
        function setupNavigation() {
            const navButtons = document.querySelectorAll('.nav-button');
            
            navButtons.forEach(button => {
                button.addEventListener('click', function() {
                    navButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    const pageId = this.getAttribute('data-page');
                    showPage(pageId);
                    appState.currentPage = pageId;
                    saveAppData();
                });
            });
        }
        
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            document.getElementById(`${pageId}-page`).classList.add('active');
            
            if (pageId === 'training') {
                initTrainingPage();
            } else if (pageId === 'progress') {
                initProgressPage();
            }
        }
        
        function addXP(amount) {
            appState.userXP += amount;
            updateXPDisplay();
            showXPGain(amount);
            checkAchievements();
            saveAppData();
        }
        
        function updateXPDisplay() {
            document.getElementById('user-xp').textContent = appState.userXP;
        }
        
        function showXPGain(amount) {
            const xpNotification = document.getElementById('xp-notification');
            document.getElementById('xp-message').textContent = `+${amount} XP получено!`;
            xpNotification.style.display = 'flex';
            xpNotification.style.animation = 'slideIn 0.5s, fadeOut 0.5s 2.5s forwards';
            
            setTimeout(() => {
                xpNotification.style.display = 'none';
            }, 3000);
        }
        
        function checkAchievements() {
            // Проверяем достижения по количеству изученных слов
            if (appState.learnedWords.length >= 5) {
                unlockAchievement(1);
            }
            
            if (appState.learnedWords.length >= 10) {
                unlockAchievement(2);
            }
            
            if (appState.learnedWords.length >= 20) {
                unlockAchievement(3);
            }
            
            // Проверяем достижения по серии входов
            if (appState.currentStreak >= 7) {
                unlockAchievement(4);
            }
            
            // Проверяем достижения по правильным ответам
            if (appState.training.correctAnswers >= 10) {
                unlockAchievement(5);
            }
        }
        
        function unlockAchievement(id) {
            const achievement = appState.achievements.find(a => a.id === id);
            if (achievement && !achievement.earned) {
                achievement.earned = true;
                addXP(achievement.xp);
                
                showAlert(`Достижение разблокировано: ${achievement.name} - ${achievement.description}`, 'success');
                
                if (appState.currentPage === 'progress') {
                    initProgressPage();
                }
            }
        }
    </script>
</body>
</html>